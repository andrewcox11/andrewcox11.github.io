{
  "hash": "c53c98a11e77db990d730827858bfe60",
  "result": {
    "markdown": "---\ntitle: NFL\nsubtitle: \"Data-Driven Mastery: Unlocking Business Potential\"\nauthor: \n  - Andrew Cox\n\ntoc: true\ntoc-title: \"Table of Contents\"\ntoc-depth: 2\nnumber-sections: true\n\nfig-width: 9\n\nexecute:\n  code-tools: true\n  message: false\n  warning: false\n\nfrom: markdown+emoji\n---\n\n\n\n\n\n\n\n# NFL\n\n\n\n\nQuestion Answers\n\nQ2a= \nNFL2022_stuffs <- NFL2022_stuffs[!is.na(NFL2022_stuffs$posteam), ]\n\nQ2b\nsummary_df <- NFL2022_stuffs %>%\n  filter(wp > 0.2 & wp < 0.75 & down <= 2 & half_seconds_remaining > 120) %>%\n  group_by(posteam) %>%\n  summarise(mean_pass = mean(pass, na.rm = TRUE))\n\nQ2c\nGgplot(data=NFL2022_stuffs)+\n  Geom_point(mapping=aes(x=percentage of pass plays, y=Team with possession))\n\nQ2d\nNFL2022_epa <- read_csv('https://bcdanl.github.io/data/NFL2022_epa.csv')\n\nNFL2022_stuffs_EPA <- NFL2022_stuffs %>%\n  left_join(NFL2022_epa[, c(\"play_id\", \"passer\", \"receiver\", \"epa\")], by = \"play_id\") %>%\n  filter(!is.na(passer))\n\nQ2e\n\nggplot(NFL2022_stuffs_EPA, aes(x = week, y = epa, group = passer, color = passer)) +\n  geom_line() +\n  labs(title = \"J.Allen v.s. P.Mahomes weekly epa\",\n       x = \"Week\",\n       y = \"Mean EPA\") \n\nQ2f: \n\nepa_diff <- NFL2022_stuffs_EPA %>%\n  filter(passer %in% c(\"J.Allen\", \"P.Mahomes\")) %>%\n  group_by(week, passer) %>%\n  summarise(epa_diff = mean(epa)) %>%\n  spread(passer, epa_diff) %>%\n  mutate(diff = J.Allen - P.Mahomes)\n\nQ2g: \npassers_summary <- NFL2022_stuffs_EPA %>%\n  group_by(posteam, passer) %>%\n  summarise(mean_epa = mean(epa), n_pass = n()) %>%\n  group_by(passer) %>%\n  filter(n_pass >= quantile(n_pass, 0.75)) %>%\n  top_n(10, wt = mean_epa)\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}